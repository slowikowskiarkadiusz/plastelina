channels:
  inbound-warehousereceipts:
    description: The queue by which WarehouseReceipts are delivered to DIP
    publish:
      summary: Receive a WarehouseReceipt from the outside
      message:
        $ref: '#/components/messages/WarehouseReceiptMessage'

  outbound-warehousereceipts:
    description: The topic by which WarehouseReceipts are sent out from DIP
    subscribe:
      summary: Send a WarehouseReceipt from the domain layer to a subscribing service
      message:
        $ref: '#/components/messages/WarehouseReceiptMessage'

components:
  messages:
    WarehouseReceiptMessage:
      name: WarehouseReceipt
      title: WarehouseReceipt
      summary: WarehouseReceipt description
      contentType: application/json
      payload:
        $ref: '#/components/schemas/BWS.DomainModels.Warehousing.WarehouseReceipt/WarehouseReceiptModel'
  schemas:
    BWS.DomainModels.Warehousing.WarehouseReceipt:
      WarehouseReceiptModel:
        $id: WarehouseReceiptModel
        confluencePageContentId: 564789257
        description: The models described below are models that are used in DIP to transmit receipts data from Magaya to Compass.
        nugets:
          - Newtonsoft.Json
        references:
          - BWS.DomainModels.Common
        usings:
          - BWS.DomainModels.Common
          - BWS.DomainModels.Warehousing.Common
          - Newtonsoft.Json
          - Newtonsoft.Json.Converters
        type: object
        properties:
          DateReceived:
            type: string
            format: date-time
          Operation:
            $ref: '#/components/schemas/BWS.DomainModels.Common/Operation'
            attributes:
              - name: JsonConverter
                parameters:
                  - value: typeof(StringEnumConverter)
            description: Type of operation
          MessageIdentification:
            $ref: '#/components/schemas/BWS.DomainModels.Warehousing.Common/MessageIdentification'
          WarehouseReceiptIdentification:
            $ref: '#/components/schemas/BWS.DomainModels.Warehousing.WarehouseReceipt/WarehouseReceiptIdentification'
          Created:
            type: string
            format: date-time
          Addresses:
            $ref: '#/components/schemas/BWS.DomainModels.Warehousing.Common/Addresses'
          BondDetails:
            $ref: '#/components/schemas/BWS.DomainModels.Warehousing.WarehouseReceipt/BondDetails'
          TransportMode:
            $ref: '#/components/schemas/BWS.DomainModels.Common/TransportMode'
            attributes:
              - name: JsonConverter
                parameters:
                  - value: typeof(StringEnumConverter)
            description: How is the order going to be transported
          TotalGrossWeight:
            $ref: '#/components/schemas/BWS.DomainModels.Common/Weight'
          TotalGrossVolume:
            $ref: '#/components/schemas/BWS.DomainModels.Common/Volume'
          Warehouse:
            $ref: '#/components/schemas/BWS.DomainModels.Warehousing.WarehouseReceipt/Warehouse'
          OrderLines:
            type: array
            items:
              $ref: '#/components/schemas/BWS.DomainModels.Warehousing.WarehouseReceipt/WarehouseReceiptLine'
            description: Items included in the order
        required:
          - Operation
          - Created
          - MessageIdentification
          - WarehouseReceiptIdentification
          - Addresses
          - OrderLines
