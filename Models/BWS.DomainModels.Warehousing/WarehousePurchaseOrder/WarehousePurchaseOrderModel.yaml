channels:
  sbq-inbound-warehouse-purchaseorders:
    description: The queue by which WarehousePurchaseOrderModel are delivered to DIP
    publish:
      summary: Receive a WarehousePurchaseOrderModel from the outside
      message:
        $ref: "#/components/messages/WarehousePurchaseOrderMessage"

  sbt-outbound-warehouse-purchaseorders:
    description: The topic by which WarehousePurchaseOrderModel are sent out from DIP
    subscribe:
      summary: Send a WarehousePurchaseOrderModel from the domain layer to a subscribing service
      message:
        $ref: "#/components/messages/WarehousePurchaseOrderMessage"

components:
  messages:
    WarehousePurchaseOrderMessage:
      name: WarehousePurchaseOrder
      title: WarehousePurchaseOrder
      summary: WarehousePurchaseOrder description
      contentType: application/json
      payload:
        $ref: "#/components/schemas/BWS.DomainModels.Warehousing.WarehousePurchaseOrder/WarehousePurchaseOrderModel"

  schemas:
    BWS.DomainModels.Warehousing.WarehousePurchaseOrder:
      WarehousePurchaseOrderModel:
        $id: WarehousePurchaseOrderModel
        confluencePageContentId: 579305511
        description: The models described below are models that are used in DIP to transmit data regarding warehouse purchase orders from Magaya to Compass.
        type: object
        references:
          - BWS.DomainModels.Common
        usings:
          - BWS.DomainModels.Common
          - Newtonsoft.Json
          - Newtonsoft.Json.Converters
          - BWS.DomainModels.Warehousing.Common
        properties:
          Operation:
            $ref: "#/components/schemas/BWS.DomainModels.Common/Operation"
            attributes:
            - name: JsonConverter
              parameters:
                - value: typeof(StringEnumConverter)
            description: Type of operation
          MessageIdentification:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/MessageIdentification"
          PurchaseOrderIdentification:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.WarehousePurchaseOrder/PurchaseOrderIdentification"
          Received:
            type: string
            format: date-time
            description: xxx
          Addresses:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/Addresses"
          PickupFrom:
            type: string
            format: date-time
            description: xxx
          PickupTo:
            type: string
            format: date-time
            description: xxx
          DeliveryFrom:
            type: string
            format: date-time
            description: xxx
          DeliveryTo:
            type: string
            format: date-time
            description: xxx
          Notes:
            type: string
          Department:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/Department"
          TransportMode:
            $ref: "#/components/schemas/BWS.DomainModels.Common/TransportMode"
            attributes:
              - name: JsonConverter
                parameters:
                  - value: typeof(StringEnumConverter)
            description: How is the order going to be transported
          OrderType:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/OrderType"
          IncoTerms:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/IncoTerms"
          Temperature:
            $ref: "#/components/schemas/BWS.DomainModels.Warehousing.Common/Temperature"
          WarehouseLocation:
            type: string
          OrderLines:
            type: array
            items:
              $ref: "#/components/schemas/BWS.DomainModels.Warehousing.WarehousePurchaseOrder/WarehousePurchaseOrderLine"
            description: Items included in the order
        required:
          - Operation
          - Received
          - MessageIdentification
          - PurchaseOrderIdentification
          - Addresses
          - Department
          - OrderType
          - OrderLines