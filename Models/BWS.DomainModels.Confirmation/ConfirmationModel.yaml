channels:
  sbt-outbound-confirmation-confirmation:
    description: The topic by which Confirmation messages are sent out from DIP
    subscribe:
      summary: Send a Confirmation from the domain layer to a subscribing service
      message:
        $ref: "#/components/messages/ConfirmationMessage"

  sbq-inbound-confirmation-confirmation:
    description: The queue by which Confirmation are delivered to DIP
    subscribe:
      summary: Receive a Confirmation from the outside
      message:
        $ref: "#/components/messages/ConfirmationMessage"

components:
  messages:
    ConfirmationMessage:
      name: ConfirmationModel
      title: ConfirmationModel
      summary: ConfirmationModel description
      contentType: application/json
      payload:
        $ref: "#/components/schemas/BWS.DomainModels.Confirmation/ConfirmationModel"

  schemas:
    BWS.DomainModels.Confirmation:
      ConfirmationModel:
        $id: ConfirmationModel
        description: The models described below are models that are used in DIP to transport Confirmation data.
        type: object
        usings:
        - System.Net
        properties:
          ConfirmationDateTime:
            type: string
            format: date-time
            description: Timestamp, when confirmation message was generated/created.
          ConfirmationSource:
            type: string
            description: Source system which generated confirmation message.
          ConfirmationType:
            type: string
            description: Identifier for confirmation type i.e. InvoiceArchive.
          ConfirmationDestination:
            type: array
            items:
              type: string
            description: List of destination systems for confirmation message.
          Code:
            type: string
            format: HttpStatusCode
            description: Http code for confirmation status.
          Message:
            type: string
            description: Short message of confirmation.
          References:
            type: array
            items:
              $ref: "#/components/schemas/BWS.DomainModels.Confirmation/ReferenceModel"
            description: List of references, which can be used by the target system to identify, what this confirmation is about.
        required:
          - ConfirmationDateTime
          - ConfirmationSource
          - ConfirmationDestination
          - Code
          - Message
          - References